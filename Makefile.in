#!gmake

LATIN_MODERN_MATH_URI=http://www.gust.org.pl/projects/e-foundry/lm-math/download/latinmodern-math-1959.zip
TEX_GYRE_HEROS_URI=http://www.gust.org.pl/projects/e-foundry/tex-gyre/heros/qhv2.004otf.zip

all: mathml-logo-640x200.png mathml-logo-640x200.pdf mathml-logo-640x200.eps

fonts: latinmodern-math.otf texgyreheros-regular.otf

%.png: %.svg fonts
	@INKSCAPE@ -f $< -C -d 90 -y 0.0 -e $@

%.pdf: %.svg fonts
	@INKSCAPE@ -f $< -C -d 90 -y 0.0 -E $@

%.eps: %.svg fonts
	@INKSCAPE@ -f $< -C -d 90 -y 0.0 -A $@

latinmodern-math.zip:
	@WGET@ $(LATIN_MODERN_MATH_URI) -O $@
	touch $@

texgyreheros.zip:
	@WGET@ $(TEX_GYRE_HEROS_URI) -O $@
	touch $@

latinmodern-math.otf: latinmodern-math.zip
	@UNZIP@ -j $< latinmodern-math-1959/otf/$@
	touch $@

texgyreheros-regular.otf: texgyreheros.zip
	@UNZIP@ -j $< $@
	touch $@

clean:
	rm -f *.eps *.png *.pdf *.otf

distclean: clean
	rm -rf *.zip
